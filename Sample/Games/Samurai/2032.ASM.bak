.MODEL SMALL
.STACK 100H
.CONST	
	INCLUDE	MACRO.ASM
	INCLUDE	VALUE.ASM
.DATA
	CHOICE	DB ?
.CODE

MAIN PROC
	MOV	AX,@DATA
	MOV	DS,AX
	
	MOV	AX,0013H
	INT	10H
	MOV	CHOICE,1

	CALL	LOADMENU

	MOV	AH,1
	INT	21H
	MOV	AX,0003H
	INT	10H

	MOV	AH,4CH
	INT	21H
MAIN ENDP

LOADMENU PROC
	PUSHX	<AX,BX,CX,DX,SI>
	XOR	SI,SI
	MOV	BMP_X,0
	MOV	BMP_Y,0
	MOV	gpw1,320
	MOV	gpw2,200	
	LEA	SI,MENU1
	CALL	LOADPIC
	XOR	AX,AX
LOOPMENU_:
	MOV	AH,8
	INT	21H
	CMP	AL,72
	JE	CHOICE_DEC_
	CMP	AL,80
	JE	CHOICE_INC_
	CMP	AL,13
	JE	EXITLOOPMENU_
	JMP	LOOPMENU_
CHOICE_DEC_:
	CMP	CHOICE,1
	JE	SHOWMENU_
	SUB	CHOICE,1
	JMP	SHOWMENU_
CHOICE_INC_:
	CMP	CHOICE,4
	JE	SHOWMENU_
	ADD	CHOICE,1
SHOWMENU_:	
	CMP	CHOICE,1
	JNE	NEXTMENU1_
	LEA	SI,MENU1
	CALL	LOADPIC
	JMP	SHOWPIC_
NEXTMENU1_:
	CMP	CHOICE,2
	JNE	NEXTMENU2_
	LEA	SI,MENU2
	CALL	LOADPIC
	JMP	SHOWPIC_
NEXTMENU2_:
	CMP	CHOICE,3
	JNE	NEXTMENU3_
	LEA	SI,MENU3
	CALL	LOADPIC
	JMP	SHOWPIC_
NEXTMENU3_:
	LEA	SI,MENU4
	CALL	LOADPIC
SHOWPIC_:
	JMP	LOOPMENU_
EXITLOOPMENU_:

	POPX	<SI,DX,CX,BX,AX>
	RET
LOADMENU ENDP

	INCLUDE	GRAPHIC.ASM
END MAIN