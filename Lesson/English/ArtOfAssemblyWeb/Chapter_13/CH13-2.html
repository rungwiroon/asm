<html>
<!-- Generated by Harlequin WebMaker 2.2.6 (30-Apr-1996)Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->


<!-- Mirrored from www.arl.wustl.edu/~lockwood/class/cs306/books/artofasm/Chapter_13/CH13-2.html by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 05 Dec 2008 15:27:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="pragma" content="no-cache">
<title>CHAPTER THIRTEEN: MS-DOS, PC-BIOS AND FILE I/O (Part 2)</title>
</head>

<body topmargin="10" stylesrc="../toc.html" bgcolor="#FFFFFF" text="#000000" link="#008000" vlink="#000000">
<div align="center"><center>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%" colspan="3"><p align="right"><a name="top"></a><font size="1" face="Arial">The Art of<br>
    </font><font face="Arial Black" size="1">ASSEMBLY LANGUAGE PROGRAMMING</font></td>
  </tr>
  <tr>
    <td width="100%" valign="middle" align="center" nowrap bgcolor="#000000" height="1" colspan="3"><a NAME="HEADING2"></a></td>
  </tr>
  <tr>
    <td width="34%" valign="middle" align="center" bgcolor="#FFFFFF" nowrap><p align="left"><a href="CH13-1.html"><img src="../images/WB00823_.GIF" align="absmiddle" border="0" WIDTH="12" HEIGHT="24"></a><font face="Arial" size="2"><strong> <a href="CH13-1.html">Chapter Thirteen</a> (Part 1)</strong></font></td>
    <td width="33%" valign="middle" align="center" bgcolor="#FFFFFF" nowrap><a href="../toc.html"><font face="Arial" size="2"><strong>Table of Content</strong></font></a></td>
    <td width="33%" valign="middle" align="center" bgcolor="#FFFFFF" nowrap><p align="right"><font face="Arial" size="2"><strong><a href="CH13-3.html">Chapter Thirteen</a> (Part 3)&nbsp; </strong></font><a href="CH13-3.html"><img src="../images/WB00827_.GIF" align="absmiddle" border="0" WIDTH="12" HEIGHT="24"></a></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%" bgcolor="#FFFFFF" nowrap height="10" colspan="2"><a NAME="HEADING2-1"></a></td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#F0F0F0" colspan="2"><font face="Arial" size="4"><strong>CHAPTER
    THIRTEEN:<br>
    MS-DOS, PC-BIOS AND FILE I/O (Part 2)</strong></font></td>
  </tr>
  <tr>
    <td width="100%" nowrap height="10" colspan="2"></td>
  </tr>
  <tr>
    <td width="50%" valign="top"><font face="Arial" size="2"><a HREF="#HEADING2-1"><b>13.1 </b>-
    The IBM PC BIOS</a> <br>
    <a HREF="#HEADING2-7"><b>13.2 </b>- An Introduction to the BIOS' Services</a> <br>
    <a HREF="#HEADING2-24"><b>13.2.1 </b>- INT 5- Print Screen</a> <br>
    <a HREF="#HEADING2-30"><b>13.2.2 </b>- INT 10h - Video Services</a> </font></td>
    <td width="50%" valign="top"><font face="Arial" size="2"><a HREF="#HEADING2-45"><b>13.2.3 </b>-
    INT 11h - Equipment Installed</a> <br>
    <a HREF="#HEADING2-67"><b>13.2.4 </b>- INT 12h - Memory Available</a> <br>
    <a HREF="#HEADING2-73"><b>13.2.5 </b>- INT 13h - Low Level Disk Services</a> </font></td>
  </tr>
  <tr>
    <td width="100%" nowrap height="20" colspan="2"></td>
  </tr>
  <tr>
    <td width="100%" colspan="2"><strong><font face="Arial" size="3">13.1 The IBM PC BIOS</font></strong></td>
  </tr>
  <tr>
    <td width="100%" nowrap height="1" bgcolor="#000000" colspan="2"></td>
  </tr>
</table>
</center></div>

<p><font face="Arial" size="2">Rather than place the BIOS routines at fixed memory
locations in ROM, IBM used a much more flexible approach in the BIOS design. To call a
BIOS routine, you use one of the 80x86's <code>int</code> software interrupt instructions.
The <code>int </code>instruction uses the following syntax:</font></p>

<p><font face="Courier New" size="2">int value</font></p>

<p><font face="Arial" size="2">Value is some number in the range 0..255. Execution of the <code>int
</code>instruction will cause the 80x86 to transfer control to one of 256 different
interrupt handlers. The interrupt vector table, starting at physical memory location 0:0,
holds the addresses of these interrupt handlers. Each address is a full segmented address,
requiring four bytes, so there are 400h bytes in the interrupt vector table -- one
segmented address for each of the 256 possible software interrupts. For example, <code>int
0 </code>transfers control to the routine whose address is at location 0:0, <code>int 1 </code>transfers
control to the routine whose address is at 0:4, int 2 via 0:8, <code>int 3 </code>via 0:C,
and <code>int 4 </code>via 0:10.</font></p>

<p><font face="Arial" size="2">When the PC resets, one of the first operations it does is
initialize several of these interrupt vectors so they point at BIOS service routines.
Later, when you execute an appropriate <code>int </code>instruction, control transfers to
the appropriate BIOS code. </font></p>

<p><font face="Arial" size="2">If all you're doing is calling BIOS routines (as opposed to
writing them), you can view the <code>int </code>instruction as nothing more than a
special <code>call </code>instruction. </font></p>
<div align="center"><center>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%"><font face="Arial" size="3"><strong><a NAME="HEADING2-7"></a>13.2 An
    Introduction to the BIOS' Services</strong></font></td>
  </tr>
  <tr>
    <td width="100%" nowrap bgcolor="#000000" height="1"></td>
  </tr>
</table>
</center></div>

<p><font face="Arial" size="2">The IBM PC BIOS uses software interrupts 5 and 10h..1Ah to
accomplish various operations. Therefore, the <code>int 5</code>, and <code>int 10h</code>..
<code>int 1ah </code>instructions provide the interface to BIOS. The following table
summarizes the BIOS services: </font></p>

<p><font face="Arial" size="2">INT Function </font></p>

<p><font face="Arial" size="2">5 Print Screen operation. </font></p>

<p><font face="Arial" size="2">10h Video display services. </font></p>

<p><font face="Arial" size="2">11h Equipment determination. </font></p>

<p><font face="Arial" size="2">12h Memory size determination. </font></p>

<p><font face="Arial" size="2">13h Diskette and hard disk services.</font></p>

<p><font face="Arial" size="2">14h Serial I/O services.</font></p>

<p><font face="Arial" size="2">15h Miscellaneous services.</font></p>

<p><font face="Arial" size="2">16h Keyboard services.</font></p>

<p><font face="Arial" size="2">17h Printer services.</font></p>

<p><font face="Arial" size="2">18h BASIC.</font></p>

<p><font face="Arial" size="2">19h Reboot.</font></p>

<p><font face="Arial" size="2">1Ah Real time clock services.</font></p>

<p><font face="Arial" size="2">Most of these routines require various parameters in the
80x86's registers. Some require additional parameters in certain memory locations. The
following sections describe the exact operation of many of the BIOS routine.</font></p>

<p><strong><font face="Arial" size="3"><a NAME="HEADING2-24"></a>13.2.1 INT 5- Print
Screen</font></strong></p>

<pre><font face="Courier New" size="2">Instruction:    int 5h
BIOS Operation: Print the current text screen.
Parameters:     None</font></pre>

<p><font face="Arial" size="2">If you execute the <code>int 5h </code>instruction, the PC
will send a copy of the screen image to the printer exactly as though you'd pressed the
PrtSc key on the keyboard. In fact, the BIOS issues an <code>int 5 </code>instruction when
you press the PrtSc, so the two operations are absolutely identical (other than one is
under software control rather than manual control). Note that the 80286 and later also
uses <code>int 5 </code>for the BOUNDS trap.</font></p>

<p><strong><font face="Arial" size="3"><a NAME="HEADING2-30"></a>13.2.2 INT 10h - Video
Services</font></strong></p>

<pre><font face="Courier New" size="2">Instruction:    int 10h
BIOS Operation: Video I/O Services
Parameters:     Several, passed in ax, bx, cx, dx, and es:bp registers.</font></pre>

<p><font face="Arial" size="2">The <code>int 10h </code>instruction does several video
display related functions. You can use it to initialize the video display, set the cursor
size and position, read the cursor position, manipulate a light pen, read or write the
current display page, scroll the data in the screen up or down, read and write characters,
read and write pixels in a graphics display mode, and write strings to the display. You
select the particular function to execute by passing a value in the <code>ah </code>register.
</font></p>

<p><font face="Arial" size="2">The video services represent one of the largest set of BIOS
calls available. There are many different video display cards manufactured for PCs, each
with minor variations and often each having its own set of unique BIOS functions. The BIOS
reference in the appendices lists some of the more common functions available, but as
pointed out earlier, this list is quite incomplete and out of date given the rapid change
in technology.</font></p>

<p><font face="Arial" size="2">Probably the most commonly used video service call is the
character output routine:</font></p>

<pre><font face="Courier New" size="2">Name:           Write char to screen in TTY mode
Parameters      ah = 0Eh, al = ASCII code (In graphics mode, bl = Page number)</font></pre>

<p><font face="Arial" size="2">This routine writes a single character to the display.
MS-DOS calls this routine to display characters on the screen. The UCR Standard Library
also provides a call which lets you write characters directly to the display using BIOS
calls.</font></p>

<p><font face="Arial" size="2">Most BIOS video display routines are poorly written. There
is not much else that can be said about them. They are extremely slow and don't provide
much in the way of functionality. For this reason, most programmers (who need a
high-performance video display driver) end up writing their own display code. This
provides speed at the expense of portability. Unfortunately, there is rarely any other
choice. If you need functionality rather than speed, you should consider using the
ANSI.SYS screen driver provided with MS-DOS. This display driver provides all kinds of
useful services such as clear to end of line, clear to end of screen, etc. For more
information, consult your DOS manual.</font></p>
<div align="center"><center>

<table BORDER="1" bordercolor="#C0C0C0" width="100%" cellspacing="0" cellpadding="0">
  <caption><font face="Arial" size="2"><strong>BIOS Video Functions (Partial List)</strong></font></caption>
  <tr>
    <th bgcolor="#F0F0F0" align="center"><font face="Arial" size="2">AH</font></th>
    <th bgcolor="#F0F0F0" align="center"><font face="Arial" size="2">Input<br>
    Parameters</font></th>
    <th bgcolor="#F0F0F0" align="center"><font face="Arial" size="2">Output<br>
    Parameters</font></th>
    <th bgcolor="#F0F0F0" align="center"><font face="Arial" size="2">Description</font></th>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">0</font></td>
    <td><font face="Arial" size="2">al=mode</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Sets the video display mode.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">1</font></td>
    <td><font face="Arial" size="2"><code>ch</code>- Starting line.<br>
    <br>
    <code>cl</code>- ending line</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Sets the shape of the cursor. Line values are in the range
    0..15. You can make the cursor disappear by loading <code>ch</code> with 20h.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">2</font></td>
    <td><font face="Arial" size="2"><code>bh</code>- page<br>
    <br>
    <code>dh</code>- y coordinate<br>
    <br>
    <code>dl</code>- x coordinate</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Position cursor to location (x,y) on the screen. Generally
    you would specify page zero. BIOS maintains a separate cursor for each page.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">3</font></td>
    <td><font face="Arial" size="2"><code>bh</code>- page</font></td>
    <td><font face="Arial" size="2"><code>ch</code>- starting line<br>
    <br>
    <code>cl</code>- ending line<br>
    <br>
    <code>dl</code>- x coordinate<br>
    <br>
    <code>dh</code>- y coordinate</font></td>
    <td><font face="Arial" size="2">Get cursor position and shape.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">4</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Obsolete (Get Light Pen Position).</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">5</font></td>
    <td><font face="Arial" size="2"><code>al</code>- display page</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Set display page. Switches the text display page to the
    specified page number. Page zero is the standard text page. Most color adapters support up
    to eight text pages (0..7).</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">6</font></td>
    <td><font face="Arial" size="2"><code>al- </code>Number of lines to scroll.<br>
    <br>
    <code>bh- </code>Screen attribute for cleared area.<br>
    <br>
    <code>cl</code>- x coordinate UL<br>
    <br>
    <code>ch</code>- y coordinate UL<br>
    <br>
    <code>dl</code>- x coordinate LR<br>
    <br>
    <code>dh</code>- y coordinate LR</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Clear or scroll up. If <code>al</code> contains zero, this
    function clears the rectangular portion of the screen specified by <code>cl/ch</code> (the
    upper left hand corner) and <code>dl/dh</code> (the lower right hand corner). If <code>al</code>
    contains any other value, this service will scroll that rectangular window up the number
    of lines specified in <code>al</code>.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">7</font></td>
    <td><font face="Arial" size="2"><code>al- </code>Number of lines to scroll.<br>
    <br>
    <code>bh- </code>Screen attribute for cleared area.<br>
    <br>
    <code>cl</code>- x coordinate UL<br>
    <br>
    <code>ch</code>- y coordinate UL<br>
    <br>
    <code>dl</code>- x coordinate LR<br>
    <br>
    <code>dh</code>- y coordinate LR</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Clear or scroll down. If <code>al</code> contains zero,
    this function clears the rectangular portion of the screen specified by <code>cl/ch</code>
    (the upper left hand corner) and <code>dl/dh</code> (the lower right hand corner). If <code>al</code>
    contains any other value, this service will scroll that rectangular window down the number
    of lines specified in <code>al</code>.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">8</font></td>
    <td><font face="Arial" size="2"><code>bh</code>- display page</font></td>
    <td><font face="Arial" size="2"><code>al</code>- char read<br>
    <br>
    <code>ah</code>- char attribute</font></td>
    <td><font face="Arial" size="2">Read character's ASCII code and attribute byte from
    current screen position.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">9</font></td>
    <td><font face="Arial" size="2"><code>al- </code>character<br>
    <br>
    <code>bh</code>- page<br>
    <br>
    <code>bl</code>- attribute<br>
    <br>
    <code>cx</code>- # of times to replicate character</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">This call writes cx copies of the character and attribute
    in <code>al/bl</code> starting at the current cursor position on the screen. It does not
    change the cursor's position.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">0Ah</font></td>
    <td><font face="Arial" size="2"><code>al- </code>character<br>
    <br>
    <code>bh</code>- page</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Writes character in al to the current screen position
    using the existing attribute. Does not change cursor position.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">0Bh</font></td>
    <td><font face="Arial" size="2"><code>bh</code>- 0<br>
    <br>
    <code>bl</code>- color</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Sets the border color for the text display.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">0Eh</font></td>
    <td><font face="Arial" size="2"><code>al</code>- character<br>
    <br>
    <code>bh</code>- page</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2">Write a character to the screen. Uses existing attribute
    and repositions cursor after write.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">0Fh</font></td>
    <td><font face="Arial" size="2">&nbsp;</font></td>
    <td><font face="Arial" size="2"><code>ah</code>- # columns<br>
    <br>
    <code>al</code>- display mode<br>
    <br>
    <code>bh</code>- page</font></td>
    <td><font face="Arial" size="2">Get video mode</font></td>
  </tr>
</table>
</center></div>

<p><font face="Arial" size="2">Note that there are many other BIOS 10h subfunctions.
Mostly, these other functions deal with graphics modes (the BIOS is too slow for
manipulating graphics, so you shouldn't use those calls) and extended features for certain
video display cards. For more information on these calls, pick up a text on the PC's BIOS.</font></p>

<p><strong><font face="Arial" size="3"><a NAME="HEADING2-45"></a>13.2.3 INT 11h -
Equipment Installed</font></strong></p>

<pre><font face="Courier New" size="2">Instruction:    int 11h
BIOS Operation: Return an equipment list
Parameters:     On entry: None, on exit: AX contains equipment list</font></pre>

<p><font face="Arial" size="2">On return from <code>int 11h</code>, the AX register
contains a bit-encoded equipment list with the following values:</font></p>

<pre><font face="Courier New" size="2">Bit 0           Floppy disk drive installed
Bit 1           Math coprocessor installed
Bits 2,3                System board RAM installed (obsolete)
Bits 4,5                Initial video mode
                        00- none
                        01- 40x25 color
                        10- 80x25 color
                        11- 80x25 b/w
Bits 6,7                Number of disk drives
Bit 8           DMA present
Bits 9,10,11    Number of RS-232 serial cards installed
Bit 12          Game I/O card installed
Bit 13          Serial printer attached
Bits 14,15      Number of printers attached.</font></pre>

<p><font face="Arial" size="2">Note that this BIOS service was designed around the
original IBM PC with its very limited hardware expansion capabilities. The bits returned
by this call are almost meaningless today.</font></p>

<p><strong><font face="Arial" size="3"><a NAME="HEADING2-67"></a>13.2.4 INT 12h - Memory
Available</font></strong></p>

<pre><font face="Courier New" size="2">Instruction:    int 12h
 BIOS Operation:Determine memory size
Parameters:     Memory size returned in AX</font></pre>

<p><font face="Arial" size="2">Back in the days when IBM PCs came with up to 64K memory
installed on the motherboard, this call had some meaning. However, PCs today can handle up
to 64 megabytes or more. Obviously this BIOS call is a little out of date. Some PCs use
this call for different purposes, but you cannot rely on such calls working on any
machine.</font></p>

<p><strong><font face="Arial" size="3"><a NAME="HEADING2-73"></a>13.2.5 INT 13h - Low
Level Disk Services</font></strong></p>

<pre><font face="Courier New" size="2">Instruction:    int 13h
BIOS Operation: Diskette Services
Parameters:     ax, es:bx, cx, dx (see below)</font></pre>

<p><font face="Arial" size="2">The <code>int 13h </code>function provides several
different low-level disk services to PC programs: Reset the diskette system, get the
diskette status, read diskette sectors, write diskette sectors, verify diskette sectors,
and format a diskette track and many more. This is another example of a BIOS routine which
has changed over the years. When this routine was first developed, a 10 megabyte hard disk
was considered large. Today, a typical high performance game requires 20 to 30 megabytes
of storage. </font></p>
<div align="center"><center>

<table BORDER="1" bordercolor="#C0C0C0" cellspacing="0" cellpadding="0">
  <caption><font face="Arial" size="2"><strong>Some Common Disk Subsystem BIOS Calls</strong></font></caption>
  <tr>
    <th align="center" bgcolor="#F0F0F0"><font face="Arial" size="2">AH</font></th>
    <th align="center" bgcolor="#F0F0F0"><font face="Arial" size="2">Input<br>
    Parameters</font></th>
    <th align="center" bgcolor="#F0F0F0"><font face="Arial" size="2">Output<br>
    Parameters</font></th>
    <th align="center" bgcolor="#F0F0F0"><font face="Arial" size="2">Description</font></th>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">0</font></td>
    <td><font face="Arial" size="2"><code>dl</code>- drive (0..7fh is floppy, 80h..ffh is
    hard)</font></td>
    <td><font face="Arial" size="2"><code>ah</code>- status (0 and carry clear if no error,
    error code if error).</font></td>
    <td><font face="Arial" size="2">Resets the specified disk drive. Resetting a hard disk
    also resets the floppy drives.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">1</font></td>
    <td><font face="Arial" size="2"><code>dl</code>- drive (as above)</font></td>
    <td><font face="Arial" size="2"><code>ah</code>- 0<br>
    <br>
    <code>al</code>- status of previous disk operation.</font></td>
    <td><font face="Arial" size="2">This call returns the following status values in al:<br>
    <br>
    0- no error<br>
    <br>
    1- invalid command<br>
    <br>
    2- address mark not found<br>
    <br>
    3- disk write protected<br>
    <br>
    4- couldn't find sector<br>
    <br>
    5- reset error<br>
    <br>
    6- removed media<br>
    <br>
    7- bad parameter table<br>
    <br>
    8- DMA overrun<br>
    <br>
    9- DMA operation crossed 64K boundary<br>
    <br>
    10- illegal sector flag<br>
    <br>
    11- illegal track flag<br>
    <br>
    12- illegal media<br>
    <br>
    13- invalid # of sectors<br>
    <br>
    14- control data address mark encountered<br>
    <br>
    15- DMA error<br>
    <br>
    16- CRC data error<br>
    <br>
    17- ECC corrected data error<br>
    <br>
    32- disk controller failed<br>
    <br>
    64- seek error<br>
    <br>
    128- timeout error<br>
    <br>
    170- drive not ready<br>
    <br>
    187- undefined error<br>
    <br>
    204- write error<br>
    <br>
    224- status error<br>
    <br>
    255- sense failure</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">2</font></td>
    <td><font face="Arial" size="2"><code>al</code>- # of sectors to read<br>
    <br>
    <code>es:bx</code>- buffer address<br>
    <br>
    <code>cl</code>- bits 0..5: sector #<br>
    <br>
    <code>cl</code>- bits 6/7- track bits 8 &amp; 9<br>
    <br>
    <code>ch</code>- track bits 0..7.<br>
    <br>
    <code>dl</code>- drive # (as above)<br>
    <br>
    <code>dh</code>- bits 0..5: head #<br>
    <br>
    <code>dh</code>- bits 6&amp;7: track bits 10 &amp; 11.</font></td>
    <td><font face="Arial" size="2"><code>ah</code>- return status<br>
    <br>
    <code>al</code>- burst error length<br>
    <br>
    carry- 0:success, 1:error</font></td>
    <td><font face="Arial" size="2">Reads the specified number of 512 byte sectors from the
    disk. Data read must be 64 Kbytes or less.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">3</font></td>
    <td><font face="Arial" size="2">same as (2) above</font></td>
    <td><font face="Arial" size="2">same as (2) above</font></td>
    <td><font face="Arial" size="2">Writes the specified number of 512 byte sectors to the
    disk. Data written must not exceed 64 Kbytes in length.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">4</font></td>
    <td><font face="Arial" size="2">Same as (2) above except there is no need for a buffer.</font></td>
    <td><font face="Arial" size="2">same as (2) above</font></td>
    <td><font face="Arial" size="2">Verifies the data in the specified number of 512 byte
    sectors on the disk.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">0Ch</font></td>
    <td><font face="Arial" size="2">Same as (4) above except there is no need for a sector #</font></td>
    <td><font face="Arial" size="2">Same as (4) above</font></td>
    <td><font face="Arial" size="2">Sends the disk head to the specified track on the disk.</font></td>
  </tr>
  <tr>
    <td align="center"><font face="Arial" size="2">0Dh</font></td>
    <td><font face="Arial" size="2"><code>dl</code>- drive # (80h or 81h)</font></td>
    <td><font face="Arial" size="2"><code>ah</code>- return status<br>
    <br>
    carry-0:no error<br>
    <br>
    1:error</font></td>
    <td><font face="Arial" size="2">Reset the hard disk controller</font></td>
  </tr>
</table>
</center></div>

<p><font face="Arial" size="2">Note: see appropriate BIOS documentation for additional
information about disk subsystem BIOS support.</font></p>
<div align="center"><center>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%" valign="middle" align="center" nowrap bgcolor="#000000" height="1" colspan="3"></td>
  </tr>
  <tr>
    <td width="34%" valign="middle" align="center" bgcolor="#FFFFFF" nowrap><p align="left"><a href="CH13-1.html"><img src="../images/WB00823_.GIF" align="absmiddle" border="0" WIDTH="12" HEIGHT="24"></a><font face="Arial" size="2"><strong> <a href="CH13-1.html">Chapter Thirteen</a> (Part 1)</strong></font></td>
    <td width="33%" valign="middle" align="center" bgcolor="#FFFFFF" nowrap><a href="../toc.html"><font face="Arial" size="2"><strong>Table of Content</strong></font></a></td>
    <td width="33%" valign="middle" align="center" bgcolor="#FFFFFF" nowrap><p align="right"><font face="Arial" size="2"><strong><a href="CH13-3.html">Chapter Thirteen</a> (Part 3)&nbsp; </strong></font><a href="CH13-3.html"><img src="../images/WB00827_.GIF" align="absmiddle" border="0" WIDTH="12" HEIGHT="24"></a></td>
  </tr>
</table>
</center></div>

<p align="right"><font face="Arial" size="2"><strong>Chapter Thirteen: MS-DOS, PC-BIOS and
File I/O (Part 2)<br>
28 SEP 1996</strong></font></p>
</body>

<!-- Mirrored from www.arl.wustl.edu/~lockwood/class/cs306/books/artofasm/Chapter_13/CH13-2.html by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 05 Dec 2008 15:27:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
</html>
